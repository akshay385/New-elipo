//@ui5-bundle supplierenquires001/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"supplierenquires001/Component.js":function(){sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("supplierenquires001.Component",{metadata:{manifest:"json"}})});
},
	"supplierenquires001/ext/controller/Upload.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast"],function(e,t){"use strict";return e.extend("supplierenquires001.ext.controller.Uploadcontroller",{onInit:function(){debugger;alert("hello")},onAfterItemAdded:function(e){debugger;var t=e.getParameter("item");this._createEntity(t).then(e=>{this._uploadContent(t,e)}).catch(e=>{console.log(e)})},onUploadCompleted:function(e){var t=this.byId("uploadSet");t.removeAllIncompleteItems();t.getBinding("items").refresh()},onOpenPressed:function(e){},_createEntity:function(e){var t={mediaType:e.getMediaType(),fileName:e.getFileName(),size:e.getFileObject().size};var n={url:"/attachments/Files",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(t)};return new Promise((e,t)=>{$.ajax(n).done((t,n,o)=>{e(t.ID)}).fail(e=>{t(e)})})},_uploadContent:function(e,t){var n=`/attachments/Files(${t})/content`;e.setUploadUrl(n);var o=this.byId("uploadSet");o.setHttpRequestMethod("PUT");o.uploadItem(e)}})});
},
	"supplierenquires001/ext/controller/Uploadcontroller.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("supplierenquires001.ext.controller.Uploadcontroller",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel();debugger},onpress:function(){alert("Hello")},onAfterItemAdded:function(e){debugger;var t=e.getParameter("item");this._createEntity(t).then(e=>{this._uploadContent(t,e)}).catch(e=>{console.log(e)})},onUploadCompleted:function(e){debugger;var t=this.byId("uploadSet");t.removeAllIncompleteItems();t.getBinding("items").refresh()},onOpenPressed:function(e){debugger},_createEntity:function(e){var t={mediaType:e.getMediaType(),fileName:e.getFileName(),size:e.getFileObject().size};var n={url:"/attachments/Files",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(t)};return new Promise((e,t)=>{$.ajax(n).done((t,n,o)=>{e(t.ID)}).fail(e=>{t(e)})})},_uploadContent:function(e,t){var n=`/attachments/Files(${t})/content`;e.setUploadUrl(n);var o=this.byId("uploadSet");o.setHttpRequestMethod("PUT");o.uploadItem(e)}}})});
},
	"supplierenquires001/ext/fragment/Attachment.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros" xmlns:upload="sap.m.upload"><VBox id="vbox1"><upload:UploadSet\n\t\t\t\t\tid="uploadSet"\n\t\t\t\t\tcore:require="{ handler: \'supplierenquires001/ext/fragment/Attachment\'}"\n\t\t\t\t\tinstantUpload="true"\n\t\t\t\t\tuploadEnabled="true"\n\t\t\t\t\tafterItemAdded="handler.onAfterItemAdded"\n\t\t\t\t\tuploadCompleted="handler.onUploadCompleted"\t\t\t\t\t\n\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\tpath: \'/Files\',\n\t\t\t\t\t\t\t\ttemplateShareable: false}"\n\t\t\t\t><upload:toolbar></upload:toolbar><upload:items><upload:UploadSetItem id="fileupload"\n\t\t\t\t\t\t\tfileName="{fileName}"\n\t\t\t\t\t\t\tmediaType="{mediaType}"\n\t\t\t\t\t\t\turl="{url}"\n\t\t\t\t\t\t\tenabledEdit="true"\n\t\t\t\t\t\t\tvisibleEdit="true"\n\t\t\t\t\t\t\tcore:require="{ handler: \'supplierenquires001/ext/fragment/Attachment\'}"\n\t\t\t\t\t\t\topenPressed="handler.onOpenPressed"\n\t\t\t\t\t\t><upload:attributes><ObjectAttribute id="2"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded By"\n\t\t\t\t\t\t\t\t\ttext="{createdBy}"\n\t\t\t\t\t\t\t\t\tactive="true"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="3"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded on"\n\t\t\t\t\t\t\t\t\ttext="{createdAt}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="4"\n\t\t\t\t\t\t\t\t\ttitle="File Size"\n\t\t\t\t\t\t\t\t\ttext="{size}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/></upload:attributes></upload:UploadSetItem></upload:items></upload:UploadSet></VBox></core:FragmentDefinition>\n',
	"supplierenquires001/ext/fragment/Attachment.js":function(){sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onPress:function(t){e.show("Custom handler invoked.")},onAfterItemAdded:function(e){debugger;var t=e.getParameter("item");var a=new Date;var o=a.toISOString().split("T")[0];var n=a.toISOString().split("T")[1].slice(0,8);var i={mediaType:t.getMediaType(),fileName:t.getFileName(),size:t.getFileObject().size};var d={url:"/odata/v4/catalog/Files",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(i)};return new Promise((e,t)=>{$.ajax(d).done((t,a,o)=>{e(t.ID);location.reload()}).fail(e=>{t(e)})})},onUploadCompleted:function(e){debugger},onOpenPressed:function(e){e.preventDefault();var t=e.getSource();this._fileName=t.getFileName();this._download(t).then(e=>{var t=window.URL.createObjectURL(e);var a=document.createElement("a");a.href=t;a.setAttribute("download",this._fileName);document.body.appendChild(a);a.click();document.body.removeChild(a)}).catch(e=>{console.log(e)})},_uploadContent:function(e,t){var a=`/odata/v4/catalog/Files(${t})/content`;e.setUploadUrl(a);var o=this.byId("uploadSet");o.setHttpRequestMethod("PUT");o.uploadItem(e)}.bind(this)}});
},
	"supplierenquires001/ext/fragment/Attachment2.fragment.xml":'<core:FragmentDefinition xmlns:upload="sap.m.upload" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros"><VBox id="01"><upload:UploadSet\n\t\t\t\t\tid="uploadSet"\n\t\t\t\t\tcore:require="{ handler: \'supplierenquires001/ext/fragment/Attachment2\'}"\n\t\t\t\t\tinstantUpload="true"\n\t\t\t\t\tuploadEnabled="true"\n\t\t\t\t\tafterItemAdded="handler.onAfterItemAdded"\n\t\t\t\t\tuploadCompleted="handler.onUploadCompleted"\t\t\t\t\t\n\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\tpath: \'/attachments\',\n\t\t\t\t\t\t\t\ttemplateShareable: false}"\n\t\t\t\t><upload:toolbar></upload:toolbar><upload:items><upload:UploadSetItem id="fileupload"\n\t\t\t\t\t\t\tfileName="{fileName}"\n\t\t\t\t\t\t\tmediaType="{mediaType}"\n\t\t\t\t\t\t\turl="{url}"\n\t\t\t\t\t\t\tenabledEdit="true"\n\t\t\t\t\t\t\tvisibleEdit="true"\n\t\t\t\t\t\t\tcore:require="{ handler: \'supplierenquires001/ext/fragment/Attachment2\'}"\n\t\t\t\t\t\t\topenPressed="handler.onOpenPressed"\n\t\t\t\t\t\t\tremovePressed="handler.aftercancel"\n\t\t\t\t\t\t><upload:attributes><ObjectAttribute id="2"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded By"\n\t\t\t\t\t\t\t\t\ttext="{createdBy}"\n\t\t\t\t\t\t\t\t\tactive="true"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="3"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded on"\n\t\t\t\t\t\t\t\t\ttext="{createdAt}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="4"\n\t\t\t\t\t\t\t\t\ttitle="File Size"\n\t\t\t\t\t\t\t\t\ttext="{size}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/></upload:attributes></upload:UploadSetItem></upload:items></upload:UploadSet></VBox></core:FragmentDefinition>',
	"supplierenquires001/ext/fragment/Attachment2.js":function(){sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onPress:function(t){e.show("Custom handler invoked.")},onAfterItemAdded:function(e){debugger;var t=e.getParameter("item");var o=new Date;var a=o.toISOString().split("T")[0];var n=o.toISOString().split("T")[1].slice(0,8);let r=e.oSource.oPropagatedProperties.oModels.pageInternal.mContexts["/pages/supplierenquires001::supplier_enqObjectPage/controls/fe::FormContainer::details"].oModel.oData.currentCtxt.sPath;const s=/Enquiry_no='(\d+)'/;const i=r.match(s);const l=i[1];console.log("got enquiry number",l);var c={Enquiry_no:l,mediaType:t.getMediaType(),fileName:t.getFileName(),size:t.getFileObject().size};var d={url:"/odata/v4/catalog/attachments",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(c)};return new Promise((e,t)=>{$.ajax(d).done((t,o,a)=>{debugger;e(t.ID);debugger;location.reload()}).fail(e=>{t(e)})})},onUploadCompleted:function(e){debugger},aftercancel:async function(e){debugger;let t=await cds.connect.to("/odata/v4/catalog/attachments");let o=e.oSource.oPropagatedProperties.oModels.pageInternal.mContexts["/pages/supplierenquires001::supplier_enqObjectPage/controls/fe::FormContainer::details"].oModel.oData.currentCtxt.sPath;const a=/Enquiry_no='(\d+)'/;const n=o.match(a);const r=n[1];await SELECT.from(t).where({Enquiry_no:r});console.log()},onOpenPressed:function(e){e.preventDefault();var t=e.getSource();this._fileName=t.getFileName();this._download(t).then(e=>{var t=window.URL.createObjectURL(e);var o=document.createElement("a");o.href=t;o.setAttribute("download",this._fileName);document.body.appendChild(o);o.click();document.body.removeChild(o)}).catch(e=>{console.log(e)})},_uploadContent:function(e,t){var o=`/odata/v4/catalog/attachments(${t})/content`;e.setUploadUrl(o);var a=this.byId("uploadSet");a.setHttpRequestMethod("PUT");a.uploadItem(e)}.bind(this)}});
},
	"supplierenquires001/i18n/i18n.properties":'# This is the resource bundle for supplierenquires001\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=sup_enq_app\n\n#YDES: Application description\nappDescription=A Fiori application.\n\nflpTitle={{ftpTitle}}\n\nflpSubtitle={{ftpSubtitle}}\n',
	"supplierenquires001/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"supplierenquires001","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.11.5","toolsId":"46833285-fc2e-4f65-bd9c-d97fcbdd5c53"},"dataSources":{"mainService":{"uri":"odata/v4/catalog/","type":"OData","settings":{"annotations":[],"localUri":"localService/metadata.xml","odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"supplier_enquires_001-display":{"semanticObject":"supplier_enquires_001","action":"display","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.120.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"supplierenquires001.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"routes":[{"pattern":":?query:","name":"supplier_enqList","target":"supplier_enqList"},{"pattern":"supplier_enq({key}):?query:","name":"supplier_enqObjectPage","target":"supplier_enqObjectPage"}],"targets":{"supplier_enqList":{"type":"Component","id":"supplier_enqList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/supplier_enq","variantManagement":"Page","navigation":{"supplier_enq":{"detail":{"route":"supplier_enqObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"GridTable"}}},"initialLoad":"Enabled"}}},"supplier_enqObjectPage":{"type":"Component","id":"supplier_enqObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"contextPath":"/supplier_enq","navigation":{},"content":{"body":{"sections":{"Attachment":{"template":"supplierenquires001.ext.fragment.Attachment","position":{"placement":"After","anchor":"details"},"type":"XMLFragment"},"last_view":{"subSections":{"Attachment2":{"template":"supplierenquires001.ext.fragment.Attachment2"}}}}}},"controlConfiguration":{"attach/@com.sap.vocabularies.UI.v1.LineItem#AttachmentsUploaded":{"tableSettings":{"selectionMode":"None","type":"GridTable"}}}}}}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"elipo_aks"}}'
}});
