sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onPress:function(t){e.show("Custom handler invoked.")},onAfterItemAdded:function(e){debugger;var t=e.getParameter("item");var a=new Date;var o=a.toISOString().split("T")[0];var n=a.toISOString().split("T")[1].slice(0,8);var i={mediaType:t.getMediaType(),fileName:t.getFileName(),size:t.getFileObject().size};var d={url:"/odata/v4/catalog/Files",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(i)};return new Promise((e,t)=>{$.ajax(d).done((t,a,o)=>{e(t.ID);location.reload()}).fail(e=>{t(e)})})},onUploadCompleted:function(e){debugger},onOpenPressed:function(e){e.preventDefault();var t=e.getSource();this._fileName=t.getFileName();this._download(t).then(e=>{var t=window.URL.createObjectURL(e);var a=document.createElement("a");a.href=t;a.setAttribute("download",this._fileName);document.body.appendChild(a);a.click();document.body.removeChild(a)}).catch(e=>{console.log(e)})},_uploadContent:function(e,t){var a=`/odata/v4/catalog/Files(${t})/content`;e.setUploadUrl(a);var o=this.byId("uploadSet");o.setHttpRequestMethod("PUT");o.uploadItem(e)}.bind(this)}});